import y from"../lib/getWalletContents.js";import{useEffect as C,useRef as u,useState as d}from"react";const W=(s,t,f,g)=>{const[c,m]=d(),[A,a]=d({}),i=u(t),o=u();return C(()=>{if(!s)return;i.current=t;const l=async()=>{const e=c?.address??s.currentAccount?.address;if(!e)return;a(n=>n.address===e?n:{...n,address:e});const r=await y({address:e,network:t,existingContents:o.current,invalidPackageModifications:g});!r||t!==i.current||JSON.stringify(o.current)===JSON.stringify(r)||(o.current=r,a(n=>({...n,contents:r})))};l();const p=setInterval(l,f??5e3);return()=>clearInterval(p)},[t,s,c]),{account:A,altAccount:c,setAltAccount:m}};var E=W;export{E as default};
