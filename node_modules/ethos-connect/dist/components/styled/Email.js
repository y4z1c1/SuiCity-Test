import n,{useCallback as i,useMemo as b,useState as d}from"react";import g from"../../lib/getConfiguration.js";import y from"../../lib/event.js";import s from"../../lib/login.js";import*as u from"./signInModalStyles.js";import v from"./IconButton.js";const E=({setSigningIn:o,setEmailSent:f,width:r})=>{const{apiKey:l}=g(),[e,m]=d(""),t=b(()=>!e||e.length===0?!1:!!e.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/),[e]),x=i(async()=>{!t||(await s({email:e,apiKey:l}),m(""),o(!1),f(!0),y({action:"send_email",category:"sign_in",label:e,value:1}))},[t,s,e,l]),p=i(a=>{m(a.target.value)},[]),c=i(async a=>{if(!t){a.preventDefault();return}o(!0),x()},[x]);return n.createElement("div",{role:"email-sign-in"},n.createElement("form",{onSubmit:c,style:u.walletOptionContainer(r)},n.createElement("input",{style:u.emailInput(),type:"email",placeholder:"Enter your email address...",value:e,onChange:p}),n.createElement(v,{text:"Sign In With Email",type:"submit",width:r,disabled:!t,primary:!0})))};var w=E;export{w as default};
