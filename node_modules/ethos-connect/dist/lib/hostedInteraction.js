import I from"store2";import h from"./getConfiguration.js";import s from"./getIframe.js";import a from"./log.js";import u from"./postIFrameMessage.js";const w=({id:t,action:e,data:n,onResponse:i,showWallet:p=!1})=>{const{walletAppUrl:c}=h(),r=o=>{if(a("hostedInteraction","response: ",o),o.origin===c){const{approved:m,action:f,data:l}=o.data;if(f!==e)return;i({approved:m,data:l}),window.removeEventListener("message",r),s(!1)}};window.addEventListener("message",r);const d=I.namespace("ethos")("configuration"),{network:g}=d;a("hostedInteraction","Posting interaction",t,e,n),u({id:t,network:g,action:e,data:n}),s(p)};var L=w;export{L as default};
