import i from"store2";import a from"./log.js";const u=async o=>{if(typeof window=="undefined")return;const e=window[o],s=i.namespace("sui");if(!e)return!1;try{let t=await e.hasPermissions();if(t||(t=await e.requestPermissions()),t){s("disconnected",null);const n=await e.getAccounts();if(!n||n.length===0)return!1;const c=s("account",n[0]),r=window.dispatchEvent(new Event("ethos-storage-changed"));a("connectSui","Dispatch event-storage-changed",c,r)}}catch(t){return console.log("Error connecting to Sui Wallet",t),!1}return!0};var d=u;export{d as default};
